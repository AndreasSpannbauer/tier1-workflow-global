# SCALAR Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# REQUIRED CONFIGURATION
# ============================================================================

# Contact Information (REQUIRED for academic API access)
CONTACT_EMAIL=your.email@example.com

# Database Configuration (REQUIRED)
POSTGRES_PASSWORD=change_this_password
POSTGRES_USER=scalar_user
POSTGRES_DB=scalar_db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Redis Configuration (REQUIRED)
REDIS_PASSWORD=change_this_redis_password
REDIS_HOST=localhost
REDIS_PORT=6379

# Security (REQUIRED - generate with: openssl rand -hex 32)
JWT_SECRET_KEY=change_this_to_random_32_byte_hex
ENCRYPTION_KEY=change_this_to_random_32_byte_hex

# ============================================================================
# PATH CONFIGURATION
# ============================================================================

# Project Root (auto-detected if not set)
SCALAR_ROOT=${HOME}/SCALAR

# Obsidian Vault Integration
# Option 1: Use symlink at ~/SCALAR/docs/obsidian_vault (recommended)
# Option 2: Set explicit path here
OBSIDIAN_VAULT_PATH=${HOME}/coding_projects/projects/01_second_brain/obsidian_llm_vault

# Data Directories
DATA_DIR=${SCALAR_ROOT}/data
CACHE_DIR=${SCALAR_ROOT}/.cache
LOGS_DIR=${SCALAR_ROOT}/logs
MODELS_DIR=${SCALAR_ROOT}/models

# ============================================================================
# GPU SERVER CONFIGURATION
# ============================================================================

# GPU Server (for Ollama LLM, BioLORD embeddings, PDF processing)
# Tailscale: 100.102.171.107
# Direct LAN: 192.168.10.10 (3x faster, recommended)
GPU_SERVER_HOST=192.168.10.10
GPU_SERVER_OLLAMA_PORT=11434
GPU_SERVER_BIOLORD_PORT=8000

# LLM Service URLs
OLLAMA_BASE_URL=http://${GPU_SERVER_HOST}:${GPU_SERVER_OLLAMA_PORT}
BIOLORD_EMBEDDING_URL=http://${GPU_SERVER_HOST}:${GPU_SERVER_BIOLORD_PORT}

# ============================================================================
# SEARCH & VECTOR DB CONFIGURATION
# ============================================================================

# Elasticsearch
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=change_this_elastic_password

# Qdrant Vector Database - SCALAR Instance
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=  # Optional, leave empty for no auth

# Qdrant Vector Database - Obsidian Instance
QDRANT_OBSIDIAN_HOST=localhost
QDRANT_OBSIDIAN_PORT=6334
QDRANT_OBSIDIAN_API_KEY=  # Optional

# ============================================================================
# API SERVER CONFIGURATION
# ============================================================================

# API Server
API_HOST=0.0.0.0
API_PORT=8080
API_WORKERS=4
API_RELOAD=false

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:3080
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# MCP SERVER CONFIGURATION
# ============================================================================

# MCP Server (for LibreChat integration)
MCP_SERVER_ENABLED=true
MCP_SERVER_PORT=8080
MCP_TOOLS_ENABLED=true

# LibreChat Frontend
LIBRECHAT_URL=http://localhost:3080

# ============================================================================
# OPTIONAL: LLM API KEYS
# ============================================================================

# OpenAI (for GPT models)
OPENAI_API_KEY=

# Anthropic (for Claude models)
ANTHROPIC_API_KEY=

# Google (for Gemini models)
GOOGLE_API_KEY=

# ============================================================================
# OPTIONAL: ACADEMIC API KEYS
# ============================================================================

# Most academic APIs only require email (set via CONTACT_EMAIL above)
# Optional API keys for enhanced access:

# PubMed/NCBI (optional, increases rate limits)
PUBMED_API_KEY=

# Scopus (requires institutional access)
SCOPUS_API_KEY=

# Web of Science (requires institutional access)
WOS_API_KEY=

# Europe PMC (optional)
EUROPEPMC_API_KEY=

# Semantic Scholar (optional, increases rate limits)
SEMANTIC_SCHOLAR_API_KEY=

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Core Features (enabled by default)
ENABLE_LITERATURE_SEARCH=true
ENABLE_LLM_INTEGRATION=true
ENABLE_CITATION_ANALYSIS=true
ENABLE_META_ANALYSIS=true
ENABLE_QUALITY_ASSESSMENT=true
ENABLE_OBSIDIAN_INTEGRATION=true
ENABLE_MCP_SERVER=true

# Advanced Features (disabled by default)
ENABLE_MULTI_USER_MODE=false
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_ADVANCED_SURVEILLANCE=false
ENABLE_CUSTOM_MODEL_TRAINING=false

# ============================================================================
# MONITORING & LOGGING
# ============================================================================

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=${LOGS_DIR}/scalar.log

# Prometheus Metrics (optional)
ENABLE_METRICS=false
PROMETHEUS_PORT=9090

# Jaeger Tracing (optional)
ENABLE_TRACING=false
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# Environment
ENVIRONMENT=development  # Options: development, staging, production

# Debug Mode
DEBUG=false

# Hot Reload (development only)
AUTO_RELOAD=true

# Test Database (for pytest)
TEST_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/scalar_test
